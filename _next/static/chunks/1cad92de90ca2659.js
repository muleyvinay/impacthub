(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,i)=>{r.exports=e.r(76562)},11870,e=>{"use strict";e.s(["default",()=>n]);var r=e.i(43476),i=e.i(57951),t=e.i(18566),s=e.i(71645);function n(e){let{children:n,requireAuth:u=!0,requireOnboarding:l=!0,allowedRoles:d=[]}=e,{user:o,isAuthenticated:a,isLoading:c}=(0,i.useAuth)(),h=(0,t.useRouter)();return((0,s.useEffect)(()=>{if(!c){if(u&&!a)return void h.push("/auth");if(u&&l&&o&&!o.isOnboarded)return void h.push("/onboarding");if(u&&d.length>0&&o&&!d.includes(o.role))return void h.push("/")}},[o,a,c,u,l,d,h]),c)?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-black",children:"Loading..."})]})}):u&&!a||u&&l&&o&&!o.isOnboarded||u&&d.length>0&&o&&!d.includes(o.role)?null:(0,r.jsx)(r.Fragment,{children:n})}}]);
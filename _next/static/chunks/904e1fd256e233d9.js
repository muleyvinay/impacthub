(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},11870,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),s=e.i(57951),a=e.i(18566),l=e.i(71645);function i(e){let{children:i,requireAuth:n=!0,requireOnboarding:r=!0,allowedRoles:c=[]}=e,{user:d,isAuthenticated:o,isLoading:m}=(0,s.useAuth)(),x=(0,a.useRouter)();return((0,l.useEffect)(()=>{if(!m){if(n&&!o)return void x.push("/auth");if(n&&r&&d&&!d.isOnboarded)return void x.push("/onboarding");if(n&&c.length>0&&d&&!c.includes(d.role))return void x.push("/")}},[d,o,m,n,r,c,x]),m)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-black",children:"Loading..."})]})}):n&&!o||n&&r&&d&&!d.isOnboarded||n&&c.length>0&&d&&!c.includes(d.role)?null:(0,t.jsx)(t.Fragment,{children:i})}},69084,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),s=e.i(71645),a=e.i(11870);function l(){let[e,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[o,m]=(0,s.useState)(null),[x,h]=(0,s.useState)("All"),[u,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{g(!0);let e=await fetch("http://localhost:3001/trending/topics?limit=20"),t=await e.json();l(t);let s=await fetch("http://localhost:3001/trending/recommendations/user_123?limit=5"),a=await s.json();d(a);let i=await fetch("http://localhost:3001/trending/sentiment-analysis"),n=await i.json();m(n)}catch(e){console.error("Error fetching trending data:",e),l(i),d(n),m(r)}finally{g(!1)}},p=async()=>{try{await fetch("http://localhost:3001/trending/refresh",{method:"POST"}),await b()}catch(e){console.error("Error refreshing trending topics:",e)}},f=async()=>{try{await fetch("http://localhost:3001/trending/generate-challenges",{method:"POST"}),await b()}catch(e){console.error("Error generating challenges:",e)}},j="All"===x?e:e.filter(e=>e.category===x),v=e=>{switch(e){case"Environment":return"🌱";case"Health":return"🏥";case"Education":return"📚";case"Social Impact":return"👥";case"Technology":return"💻";default:return"📊"}};return u?(0,t.jsx)(a.default,{children:(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-black/70",children:"Loading trending topics..."})]})})}):(0,t.jsx)(a.default,{children:(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-black mb-4",children:"Trending Topics & AI Challenges"}),(0,t.jsx)("p",{className:"text-xl text-black/70 max-w-3xl mx-auto",children:"Discover what's trending globally and get personalized challenge recommendations based on real-world events and your interests."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:[(0,t.jsx)("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"🔄 Refresh Trending Topics"}),(0,t.jsx)("button",{onClick:f,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"🤖 Generate AI Challenges"})]}),o&&(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/20 mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"Global Sentiment Analysis"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[o.overall.positive,"%"]}),(0,t.jsx)("div",{className:"text-black/70",children:"Positive Sentiment"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-red-600 mb-2",children:[o.overall.negative,"%"]}),(0,t.jsx)("div",{className:"text-black/70",children:"Negative Sentiment"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-600 mb-2",children:[o.overall.neutral,"%"]}),(0,t.jsx)("div",{className:"text-black/70",children:"Neutral Sentiment"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.length}),(0,t.jsx)("div",{className:"text-black/70",children:"Active Topics"})]})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-3 mb-8 justify-center",children:["All","Environment","Health","Education","Social Impact","Technology"].map(e=>(0,t.jsxs)("button",{onClick:()=>h(e),className:"px-6 py-3 rounded-full font-medium transition-all duration-300 ".concat(x===e?"bg-purple-600 text-white shadow-lg":"bg-white/80 text-black/70 hover:bg-purple-50"),children:[v(e)," ",e]},e))}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"Trending Topics"}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map(e=>(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:v(e.category)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-black",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(e.sentiment)),children:e.sentiment}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-600",children:e.category})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(e.popularity)}),(0,t.jsx)("div",{className:"text-sm text-black/60",children:"popularity"})]})]}),(0,t.jsx)("p",{className:"text-black/70 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-black mb-2",children:"Keywords"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.keywords.slice(0,5).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-black mb-2",children:"Impact"}),(0,t.jsx)("p",{className:"text-black/70 text-sm",children:e.impact})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-black mb-2",children:"Suggested Challenges"}),(0,t.jsx)("div",{className:"space-y-1",children:e.suggestedChallenges.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"text-sm text-black/70",children:["• ",e]},s))})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm text-black/60",children:[(0,t.jsxs)("span",{children:["Source: ",e.source]}),(0,t.jsx)("span",{children:new Date(e.lastUpdated).toLocaleDateString()})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-black mb-6",children:"AI-Generated Challenge Recommendations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map((e,s)=>(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 hover:shadow-xl transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:v(e.category)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-black",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"Easy":return"text-green-600 bg-green-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Hard":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(e.difficulty)),children:e.difficulty}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-600",children:e.category})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.points}),(0,t.jsx)("div",{className:"text-sm text-black/60",children:"points"})]})]}),(0,t.jsx)("p",{className:"text-black/70 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-black/60",children:"Duration"}),(0,t.jsxs)("span",{className:"text-black",children:[e.duration," days"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-black/60",children:"Impact"}),(0,t.jsx)("span",{className:"text-black text-sm",children:e.impact})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg mb-4",children:[(0,t.jsx)("h4",{className:"font-bold text-orange-800 mb-2",children:"Requirements"}),(0,t.jsx)("ul",{className:"text-sm text-orange-700 space-y-1",children:e.requirements.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]}),(0,t.jsx)("button",{className:"w-full bg-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Join AI Challenge"})]},s))})]}),(0,t.jsxs)("div",{className:"text-center bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Stay Ahead of Global Trends"}),(0,t.jsx)("p",{className:"text-xl mb-6 opacity-90",children:"Get personalized challenge recommendations based on what's happening in the world right now"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,t.jsx)("button",{className:"bg-white text-purple-600 py-3 px-8 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Explore All Challenges"}),(0,t.jsx)("button",{className:"bg-transparent border-2 border-white text-white py-3 px-8 rounded-lg font-medium hover:bg-white hover:text-purple-600 transition-colors",children:"Get Personalized Recommendations"})]})]})]})})})}let i=[{id:"1",title:"Climate Change Summit: New Commitments Made",description:"World leaders announce new climate initiatives and funding commitments",category:"Environment",source:"Climate News",popularity:85,sentiment:"positive",keywords:["climate change","summit","commitments","funding","sustainability"],impact:"Global impact affecting millions worldwide",suggestedChallenges:["30-Day Carbon Footprint Challenge","Climate Action Awareness Campaign"],createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:"2",title:"Global Water Crisis: 2.2 Billion People Affected",description:"UN report highlights urgent need for clean water access worldwide",category:"Health",source:"UN News",popularity:78,sentiment:"negative",keywords:["water crisis","clean water","UN","global health","access"],impact:"Global impact affecting millions worldwide",suggestedChallenges:["Water Conservation Challenge","Clean Water Access Initiative"],createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()}],n=[{title:"30-Day Carbon Footprint Challenge",description:"Reduce your carbon footprint by 50% over 30 days through sustainable lifestyle changes",category:"Environment",difficulty:"Medium",duration:30,points:500,requirements:["Track daily carbon footprint","Implement 5 sustainable practices"],rewards:["500 Impact Points","Carbon Warrior Badge"],impact:"Collectively reduce carbon emissions and promote sustainable living",tags:["climate","sustainability","carbon"],relatedTopic:"Climate Change Summit: New Commitments Made"}],r={overall:{positive:45,negative:30,neutral:25},byCategory:{Environment:{positive:60,negative:25,neutral:15},Health:{positive:40,negative:35,neutral:25}}}}]);